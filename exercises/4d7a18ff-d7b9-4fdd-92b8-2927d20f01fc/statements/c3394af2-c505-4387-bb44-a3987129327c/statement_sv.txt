<p><em>(OPTIONAL EXERCISE)</em></p><p>Som med klausulen <code>ORDER BY</code>Vi kan inkludera mer än ett gruppkriterium i klausulen <code>GROUP BY</code>helt enkelt genom att separera de olika kriterierna för gruppering genom kommatecken.</p><h3>Exempel:</h3><p>Vi kommer att utöka föregående exempel, så</p><blockquote><p><code>SELECT DEPARTMENT_ID, <strong>JOB_ID,</strong> ROUND(AVG(SALARY)) AS "AVERAGE SALARY"<br/>FROM employees<br/>WHERE DEPARTMENT_ID IS NOT NULL<br/>GROUP BY DEPARTMENT_ID<strong>, JOB_ID</strong><br/>ORDER BY DEPARTMENT_ID, JOB_ID;</code></p></blockquote><table align="center" border="1" summary="Results from query 10"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">DEPARTMENT_ID</th><th style="background-color:#9e9e9e; text-align:center">JOB_ID</th><th style="background-color:#9e9e9e; text-align:center">AVERAGE SALARY</th></tr><tr><td>10 10 10 10 10</td><td>AD_ASST</td><td>4400</td></tr><tr><td>20 20 20 20 20 20 20</td><td>MKMAN</td><td>13 000</td></tr><tr><td>20 20 20 20 20 20 20</td><td>MK_REP</td><td>6 000</td></tr><tr><td>30 30 30 30 30</td><td>PU_CLERK</td><td>2780</td></tr><tr><td>30 30 30 30 30</td><td>PU_MAN</td><td>11 000</td></tr><tr><td>40 40 40</td><td>HR_REP</td><td>6500</td></tr><tr><td>50 50</td><td>SH_CLERK</td><td>3215</td></tr><tr><td>50 50</td><td>ST_CLERK</td><td>2785</td></tr><tr><td>50 50</td><td>ST_MAN</td><td>7280</td></tr><tr><td>......</td><td>......</td><td>......</td></tr></tbody></table><p>Vi kan observera hur, i de avdelningar där det finns mer än en typ av arbete, en genomsnittlig lön visas för var och en av dem.</p><h3>Övning:</h3><p>Hur många anställda har anställts varje månad sedan 1999?</p><p>Beställ resultatet per år och månad.</p><p><em><small>För denna fråga måste du använda datumfunktionen <a href="https://www.postgresql.org/docs/14/functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT" target="_blank">Extrakt</a>, som gör det möjligt att extrahera från ett datum, någon av de data som komponerar den (år, månad, dag, ...)</small></em></p>