<h2><code>UNION</code></h2><p>As operações que veremos nesta secção envolvem várias consultas <code>SELECT</code>. Especificamente, na operação <code>UNION</code>, eles combinam as fileiras do primeiro <code>SELECT</code> com as linhas do segundo <code>SELECT</code>Falta de linhas duplicadas.</p><h3>Sintaxe</h3><blockquote><p><code>SELECT query</code></p></blockquote><p><code>UNION</code></p><p><code>SELECT query</code></p><p>O número de colunas que retornam ambas as consultas SELECT deve ser o mesmo e os tipos dessas colunas devem ser compatíveis.</p><h3>Exemplo:</h3><p>Mostra funcionários que estão ou estiveram no departamento 110:</p><p>Em primeiro lugar, vamos procurar os funcionários que são (empregados) no departamento 110</p><blockquote><p><code>SELECT DISTINCT EMPLOYEE_ID, DEPARTMENT_ID<br/>FROM employees<br/>WHERE DEPARTMENT_ID = 110;</code></p></blockquote><table align="center" border="1" summary="Results from query"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">EMPREGO</th><th style="background-color:#9e9e9e; text-align:center">DEPARTAMENTO</th></tr><tr><td>205</td><td>110</td></tr><tr><td>206</td><td>110</td></tr></tbody></table><p>Agora vamos procurar os funcionários que estavam em algum momento (job_history) no departamento 110</p><blockquote><p><code>SELECT DISTINCT EMPLOYEE_ID, DEPARTMENT_ID<br/>FROM job_history<br/>WHERE DEPARTMENT_ID = 110;</code></p></blockquote><table align="center" border="1" summary="Results from query"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">EMPREGO</th><th style="background-color:#9e9e9e; text-align:center">DEPARTAMENTO</th></tr><tr><td>101</td><td>110</td></tr></tbody></table><p>Finalmente, combinamos ambos os resultados para alcançar a consulta necessária:</p><blockquote><p><code>SELECT DISTINCT EMPLOYEE_ID, DEPARTMENT_ID<br/>FROM employees<br/>WHERE DEPARTMENT_ID = 110<br/><strong>UNION</strong><br/>SELECT DISTINCT EMPLOYEE_ID, DEPARTMENT_ID<br/>FROM job_history<br/>WHERE DEPARTMENT_ID = 110;</code></p></blockquote><table align="center" border="1" summary="Results from query"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">EMPREGO</th><th style="background-color:#9e9e9e; text-align:center">DEPARTAMENTO</th></tr><tr><td>101</td><td>110</td></tr><tr><td>205</td><td>110</td></tr><tr><td>206</td><td>110</td></tr></tbody></table><p>Naturalmente, a coisa lógica seria mostrar os nomes e sobrenomes dos funcionários, em vez de seu identificador, então uma resposta com mais informações seria:</p><blockquote><p><code>SELECT DISTINCT FIRST_NAME, LAST_NAME, DEPARTMENT_ID<br/>FROM employees<br/>WHERE DEPARTMENT_ID = 110<br/>UNION<br/>SELECT DISTINCT FIRST_NAME, LAST_NAME, job_history.DEPARTMENT_ID<br/>FROM job_history JOIN employees USING (EMPLOYEE_ID)<br/>WHERE job_history.DEPARTMENT_ID = 110;</code></p></blockquote><table align="center" border="1" summary="Results from query"><tbody><tr><th style="text-align: center; background-color: rgb(158, 158, 158);">FIRST_NAME</th><th style="text-align: center; background-color: rgb(158, 158, 158);">LAST_NAME</th><th style="text-align: center; background-color: rgb(158, 158, 158);">DEPARTAMENTO</th></tr><tr><td>Querida.</td><td>Kochhar</td><td>110</td></tr><tr><td>Shelley.</td><td>Higgins</td><td>110</td></tr><tr><td>William.</td><td>Gietz</td><td>110</td></tr></tbody></table><h3>Exercício</h3><p>Neena Kochhar não é confortável no departamento atual, então ele está vendo a opção de se mudar para a Califórnia ou voltar para um dos departamentos em que ele já tem trabalhado.</p><p>Quais são os departamentos que estão ou no estado de '<code>California</code>Ou <code>Neena Kochhar</code> Já trabalhaste com eles antes?</p>