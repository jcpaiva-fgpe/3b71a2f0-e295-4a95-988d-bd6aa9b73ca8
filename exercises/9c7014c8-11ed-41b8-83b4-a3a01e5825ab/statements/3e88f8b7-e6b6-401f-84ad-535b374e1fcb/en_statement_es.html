<p>Subqueries can appear inside <code>WHERE</code>, <code>HAVING</code> or <code>FROM</code> clauses.</p><p>We'll start with</ p><h2>Subqueries in the <code>WHERE</code> clause that return single values.</h2><h3>Syntax</h3><blockquote><p><code>SELECT [<em>attributes< /em>]<br />FROM [<em>table</em>]<br />WHERE expression operator <strong>(<br /> SELECT [<em>attributes</em>]<br /> FROM [<em>table</em>]<br /> WHERE [condition]</code><br />)</strong></p></blockquote><p>What we have put in bold would correspond to the subquery.</p><h3>Example:</h3><p>If we were to ask, <em>which employees work in the same department as <code>Fripp</code>?</em> most, before answering, would in turn ask <em>and what department does <code>Fripp</code> work in?</em></p><p>This last question would be our subquery:</p ><blockquote><p><code>SELECT DEPARTMENT_ID<br />FROM employees<br />WHERE LAST_NAME = 'Fripp';</code></p></blockquote><table align="center" border="1" summary="Results from query"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">DEPARTMENT_ID</th></tr><tr><td>50</td></tr></tbody></table><p>It is important that, of all the data of <code>Fripp</code>, we are only interested in the value of the DEPARTMENT_ID attribute.</p><p>Once we know in which department <code>Fripp</code> works, we can already consult the employees who work in that department:</p><blockquote><p><code>SELECT FIRST_NAME, LAST_NAME, DEPARTMENT_ID<br />FROM employees<br />WHERE DEPARTMENT_ID = 50;</code></p></blockquote> <table align="center" border="1" summary="Results from query"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">FIRST_NAME</th><th style="background-color:#9e9e9e; text-align:center">LAST_NAME</th><th style="background-color:#9e9e9e; text-align:center">DEPARTMENT_ID</th></tr><tr><td>Mozhe</td><td>Atkinson</td><td>50</td></tr><tr> <td>Sarah</td><td>Bell</td><td>50</td></tr><tr><td>Laura</td><td>Bissot</td><td> 50</td></tr><tr><td>...</td><td>...</td><td>...</td></tr></tbody> </table><p>But, we could have done the previous 2 queries at once, substituting the number 50 of the second query for the first query, enclosed in parentheses.</p><blockquote><p><code> SELECT FIRST_NAME, LAST_NAME, DEPARTMENT_ID<br />FROM employees<br />WHERE DEPARTMENT_ID = <strong>(<br /> SELECT DEPARTMENT_ID<br /> FROM employees<br /> WHERE LAST_NAME = 'Fripp'<br />) </strong>;</code></p></blockquote><p>The above is an example of a subquery to return individual values, since it returns a single value (50), which is later used by the query external through the relational operators (<code>=</code>, <code>></code>, <code><</code>, <code>!=</code>).</p> <h3>Exercise:</h3><p>Which employees have a salary greater than twice the median salary?</p><p>Sort the result descending by salary.</p>