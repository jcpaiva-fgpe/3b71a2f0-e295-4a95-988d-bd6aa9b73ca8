<h1>Subconsultas en la cl&aacute;usula <code>WHERE</code> que devuelven conjuntos de valores.</h1><p>Si utilizamos operadores relacionales con una subconsulta que no devuelve un &uacute;nico valor, el sistema nos devolver&aacute; un error.</p><h3>Ejemplo:</h3><p>Imaginemos que queremos mostrar el nombre y apellidos del empleado que mayor salario tiene. Una forma de solucionar esta consulta es con un planteamiento muy similar al del ejercicio anterior: <em>&quot;muestra aquel empleado cuyo salario es mayor que el de sus compa&ntilde;eros&quot;</em>:</p><blockquote><p><code>SELECT FIRST_NAME, LAST_NAME, SALARY<br />FROM employees<br />WHERE SALARY &gt; (<br />&nbsp;&nbsp;&nbsp; SELECT SALARY<br />&nbsp;&nbsp;&nbsp; FROM employees<br />)<br />ORDER BY SALARY DESC;</code></p></blockquote><p>Lo que ocurre es que, en este caso, salarios de compa&ntilde;eros hay muchos, por lo que utilizar el operador relacional <code>&gt;</code> con todos esos datos genera el siguiente error:</p><blockquote><p><code><strong>ERROR:</strong>  more than one row returned by a subquery used as an expression</code></p></blockquote><p>Para poder solucionar este error, podemos acompa&ntilde;ar el operador relacional de las cl&aacute;usulas <code>ANY</code>, <code>ALL</code>, <code>EXISTS</code> o&nbsp;<code>NOT EXISTS</code>.</p><p>Con lo que la consulta quedar&iacute;a <em>&quot;muestra aquel empleado cuyo salario es <strong>mayor o igual que todos</strong> los de de sus compa&ntilde;eros&quot;</em>.</p><blockquote><p><code>SELECT FIRST_NAME, LAST_NAME, SALARY<br />FROM employees<br />WHERE SALARY <strong>&gt;= ALL</strong> (<br />&nbsp;&nbsp;&nbsp; SELECT SALARY<br />&nbsp;&nbsp;&nbsp; FROM employees<br />)<br />ORDER BY SALARY DESC;</code></p></blockquote><table align="center" border="1" summary="Results from query"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">FIRST_NAME</th><th style="background-color:#9e9e9e; text-align:center">LAST_NAME</th><th style="background-color:#9e9e9e; text-align:center">SALARY</th></tr><tr><td>Steven</td><td>King</td><td>24000</td></tr></tbody></table><p>&nbsp;</p><p>&nbsp;</p><h3>Ejercicio:</h3><p>De los empleados del departamento <code>&#39;Shipping&#39;</code>, &iquest;qui&eacute;n es el que tiene menor antig&uuml;edad?</p><p>Ordena el resultado descendentemente por el salario.</p>