<h1>Subconsultas na cláusula <code>WHERE</code> que retornam conjuntos de valores.</h1><p>Se usarmos operadores relacionais com uma subconsulta que não retorna um único valor, o sistema retornará um erro .</p><h3>Exemplo:</h3><p>Vamos imaginar que queremos exibir o nome e sobrenome do funcionário com o maior salário. Uma maneira de resolver essa consulta é com uma abordagem muito semelhante ao exercício anterior: <em>"mostra o funcionário cujo salário é maior que o de seus colegas"</em>:</p><blockquote><p>< code>SELECT FIRST_NAME, LAST_NAME, SALARY<br />FROM empregados<br />WHERE SALARY > (<br /> SELECT SALARY<br /> FROM empregados<br />)<br />ORDER BY SALARY DESC;</ code></p></blockquote><p>O que acontece é que, neste caso, há muitos salários de colegas, então usar o operador relacional <code>></code> com todos esses dados gera o seguinte erro :</p><blockquote><p><code><strong>ERRO:</strong> mais de uma linha retornada por uma subconsulta usada como expressão</code></p></blockquote>< p> Para resolver este erro, podemos acompanhar o operador relacional com as cláusulas <code>ANY</code>, <code>ALL</code>, <code>EXISTS</code> ou <code>NOT EXISTS</code> code>.</p><p>Com qual seria a consulta <em>"mostra aquele funcionário cujo salário é <strong>maior ou igual a todos</st rong> os de seus colegas"</em>.</p><blockquote><p><code>SELECT FIRST_NAME, LAST_NAME, SALARY<br />FROM empregados<br />WHERE SALARY <strong>>= ALL < /strong> (<br /> SELECIONE SALÁRIO<br /> DE funcionários<br />)<br />ORDEM POR DESC DO SALÁRIO;</code></p></blockquote><table align="center" border ="1" summary="Resultados da consulta"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">FIRST_NAME</th><th style="background-color:#9e9e9e; text-align:center">LAST_NAME</th><th style="background-color:#9e9e9e; text-align:center">SALÁRIO</th></tr><tr><td>Steven</td><td>Rei</td><td>24000</td></tr></tbody ></table><p> </p><p> </p><h3>Exercício:</h3><p>Dos funcionários do departamento de <code>'Transporte'</code>, que é aquele com o menor tempo de serviço?</p><p>Ordene o resultado por ordem decrescente de salário.</p>