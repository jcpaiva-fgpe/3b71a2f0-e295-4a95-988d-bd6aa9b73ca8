<p>A cláusula GROUP BY permite obter subtotais dos valores presentes em uma coluna ou expressão.</p><h3>Sintaxe:</h3><p>A cláusula <code>GROUP BY</code> Vamos pô-lo entre <code>WHERE</code> e <code>ORDER BY</code>.</p><blockquote><p><code>SELECT columna1, columna2, ...<br/>FROM tabla1, tabla2, ...<br/>WHERE condición1, condición2, …<br/><strong>GROUP BY columna1, columna2, …</strong><br/>ORDER BY ordenación;</code></p></blockquote><h3>Exemplo:</h3><p>Antes de ver um exemplo de uma frase sob a cláusula GROUP BY, deve-se recordar que, em consultas anteriores, temos trabalhado com funções agregadas, o que permitiu extrair informações sumárias de um conjunto de linhas. Por exemplo, poderíamos relatar o salário médio (<code>AVG()</code>) dos trabalhadores do regime <code>HR</code>.</p><blockquote><p><code>SELECT AVG(SALARY) AS "AVERAGE SALARY"<br/>FROM employees;</code></p></blockquote><table align="center" border="1" summary="Results from query 1"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">AVALIAÇÃO</th></tr><tr><td style="text-align:center">6461.831775...</td></tr></tbody></table><p>Também podemos mostrar o salário médio de um departamento particular:</p><blockquote><p><code>SELECT AVG(SALARY) AS "AVERAGE SALARY"<br/>FROM employees</code><br/><code>WHERE DEPARTMENT_ID = 60;</code></p></blockquote><table align="center" border="1" summary="Results from query 1"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">AVALIAÇÃO</th></tr><tr><td style="text-align:center">5760</td></tr></tbody></table><p>Mas seria ilógico ter que consultar cada departamento para saber o que o salário médio é em cada departamento. A incorporação da cláusula <code>GROUP BY</code> Permite-nos obter um resultado parcial para cada um dos elementos pelos quais se agrupa.</p><p>No exemplo a seguir, vamos agrupar os funcionários por seus <code>DEPARTMENT_ID</code>para que todos aqueles que têm o mesmo valor nesse atributo participem na obtenção do resultado parcial:</p><blockquote><p><code>SELECT DEPARTMENT_ID, AVG(SALARY) AS "AVERAGE SALARY"<br/>FROM employees<br/>GROUP BY DEPARTMENT_ID;</code></p></blockquote><table align="center" border="1" summary="Results from query"><tbody><tr><th style="background-color:#9e9e9e; text-align:center">DEPARTAMENTO</th><th style="background-color:#9e9e9e; text-align:center">AVALIAÇÃO</th></tr><tr><td style="text-align:center">50</td><td>3475.555555...</td></tr><tr><td style="text-align:center">40</td><td>6500</td></tr><tr><td style="text-align:center">110</td><td>10154</td></tr><tr><td style="text-align:center">90</td><td>19333.333333...</td></tr><tr><td style="text-align:center">30</td><td>4150</td></tr><tr><td style="text-align:center">70</td><td>10000</td></tr><tr><td style="text-align:center">- Não.</td><td>7000</td></tr><tr><td style="text-align:center">10.</td><td>4400</td></tr><tr><td style="text-align:center">20.</td><td>9500.</td></tr><tr><td style="text-align:center">60</td><td>5760</td></tr><tr><td style="text-align:center">100.</td><td>8601.333333...</td></tr><tr><td style="text-align:center">80</td><td>8955.882352...</td></tr></tbody></table><p>Qualquer um do <strong>funções agregadas</strong> que vimos na seção de funções, pode ser usado em conjunto com <code>GROUP BY</code>.</p><h3>Exercício:</h3><p>Mostra o salário <em>MÍNIMO</em> e <em>MÁXIMO</em> de empregados de cada um dos tipos de trabalho existentes.</p><p>Encomende o resultado alfabeticamente, em ordem reversa, de acordo com o tipo de trabalho.</p>